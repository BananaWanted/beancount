% Author: Martin Blais <blais@furius.ca>

\documentclass[10pt,landscape]{article}
\usepackage{multicol}
\usepackage{calc}
\usepackage{ifthen}
\usepackage[landscape]{geometry}
\usepackage{hyperref}
\usepackage{times}

% Small margins.
\ifthenelse{\lengthtest{\paperwidth=11in}}
{\geometry{top=.5in,left=.5in,right=.5in,bottom=.5in}}
{\ifthenelse{\lengthtest{\paperwidth=297mm}}
  {\geometry{top=1cm,left=1cm,right=1cm,bottom=1cm}}
  {\geometry{top=1cm,left=1cm,right=1cm,bottom=1cm}}}

% No header and footer.
\pagestyle{empty}

% No section numbers.
\setcounter{secnumdepth}{0}

% No indent.
\setlength{\parindent}{0pt}
\setlength{\parskip}{0pt plus 0.5ex}


\begin{document}

\begin{center}
  \Large{\textbf{Beancount Syntax Cheat Sheet}}
\end{center}
\vspace{1em}


\raggedright
\footnotesize
\begin{multicols}{2}

\setlength{\premulticols}{1pt}
\setlength{\postmulticols}{1pt}
\setlength{\multicolsep}{1pt}
\setlength{\columnsep}{2pt}
%\setlength{\columnseprule}{0.25pt}


\section{Account Types}
\begin{verbatim}
Account Types & Signs:      Commodities: all in CAPS, e.g.

  Assets:       (+)           USD, EUR, CAD, AUD
  Liabilities:  (-)           GOOG, AAPL, RBF1005
  Equity:       (-)           HOME123MAYST, AIRMILES
  Income:       (-)           HOURS
  Expenses:     (+)

Example:

  Assets:US:Citibank:Checking
\end{verbatim}



\section{Account Directives}
\begin{verbatim}
YYYY-MM-DD open      Account
YYYY-MM-DD open      Account  USD,EUR  ; With constraints

YYYY-MM-DD close     Account

YYYY-MM-DD note      Account  "A note about something for an account"

YYYY-MM-DD document  Account  "path/to/statement.pdf"
\end{verbatim}



\section{Transactions}
\begin{verbatim}
YYYY-MM-DD * "Narration"
  Account1             101.23 USD
  Account2            -101.23 USD

YYYY-MM-DD ! "Payee" "Narration" #tag ^link
  Account1             101.23 USD
  Account2             ; You can leave one out
\end{verbatim}

\subsection{Postings}
\begin{verbatim}
YYYY-MM-DD * ...
  Account    123.45 USD                        ; No cost
  Account    10 GOOG {502.12 USD}              ; With cost
  Account    1000.00 USD @ 1.10 CAD            ; With price
  Account    10 GOOG {502.12 USD} @ 1.10 CAD   ; With cost & price
  Account    10 GOOG {502.12 USD / 2014-05-12} ; With lot
  ! Account  123.45 USD                        ; With flag
\end{verbatim}

\subsection{Balance Checks}
\begin{verbatim}
YYYY-MM-DD balance Account  2634.30 USD  ; Checks only this currency

YYYY-MM-DD pad     Account  SourceAccount
\end{verbatim}



\columnbreak

\section{Prices}
\begin{verbatim}
YYYY-MM-DD price GOOG  984.02 USD
\end{verbatim}



\section{Events}
\begin{verbatim}
YYYY-MM-DD event "location"  "New York, USA"
YYYY-MM-DD event "address"   "123 May Street"
\end{verbatim}



\section{Options}
\begin{verbatim}
option "title"                        "Your ledger's title"
option "name_assets"                  "Assets"
option "name_liabilities"             "Liabilities"
option "name_equity"                  "Equity"
option "name_income"                  "Income"
option "name_expenses"                "Expenses"
option "account_previous_balances"    "Opening-Balances"
option "account_previous_earnings"    "Earnings:Previous"
option "account_previous_conversions" "Conversions:Previous"
option "account_current_earnings"     "Earnings:Current"
option "account_current_conversions"  "Conversions:Current"
option "documents"                    "/path/to/documents/directory"
option "conversion_currency"          "NOTHING"

;; Multiple values allowed for these.
option "operating_currency"           "USD"
option "plugin"                       "beancount.module.name"
option "plugin"                       "beancount.module.name:OPTION"
\end{verbatim}



\section{Parsing Commands}
\begin{verbatim}
pushtag #tag
...
poptag #tag
\end{verbatim}



\section{Other}
\begin{verbatim}
; Comments begin with a semi-colon
\end{verbatim}



%% \rule{0.3\linewidth}{0.25pt}
\scriptsize
\begin{center}
  Copyright \copyright\ 2014 Martin Blais \\
  \texttt{http://furius.ca/beancount/} \\
  Generated on: \today
\end{center}
\end{multicols}
\end{document}
